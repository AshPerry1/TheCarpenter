// Weekly Resources Data
const weeklyResources = {
  1: {
    theme: "Beginnings",
    subtitle: "Work as Gift — God gave work before the Fall",
    verse: "Genesis 1:26-28",
    verseText: "Then God said, 'Let us make man in our image, after our likeness. And let them have dominion...' So God created man in his own image... And God blessed them. And God said to them, 'Be fruitful and multiply and fill the earth and subdue it.'",
    reflection: "Before sin entered the world, God gave Adam work to do—to cultivate the garden, to name the animals, to exercise dominion. Work is not a result of the Fall; it's a gift from God. Your job, at its core, is part of God's good design for humanity. This week, thank God that you get to work.",
    mondayPrayer: "Lord, help me see my work as Your gift, not just a consequence of living in a fallen world. Amen.",
    practices: [
      "Each morning, say aloud: 'This work is a gift from God.'",
      "List 3 ways your job allows you to serve others or create value.",
      "Thank God for one specific task you get to do this week."
    ]
  },
  2: {
    theme: "Identity",
    subtitle: "Your job doesn't define you—Christ does",
    verse: "Colossians 3:3",
    verseText: "For you have died, and your life is hidden with Christ in God.",
    reflection: "You are not 'just' an accountant, teacher, or truck driver. You are a child of God, hidden with Christ, loved eternally. Your job is what you do, not who you are. When work goes well, don't let pride creep in. When work goes poorly, don't despair. Your identity is secure in Christ alone.",
    mondayPrayer: "Father, anchor my identity in Christ, not in my job title or performance. Amen.",
    practices: [
      "Write down: 'I am...' and list your identity in Christ (loved, forgiven, adopted, etc.)",
      "When introducing yourself this week, lead with your name, not your job.",
      "If work feels discouraging, remind yourself: 'My worth is in Christ, not my output.'"
    ]
  },
  3: {
    theme: "Excellence",
    subtitle: "Working with all your heart, as for the Lord",
    verse: "Colossians 3:23-24",
    verseText: "Whatever you do, work heartily, as for the Lord and not for men, knowing that from the Lord you will receive the inheritance as your reward. You are serving the Lord Christ.",
    reflection: "Imagine Jesus is your direct manager. How would that change your work? The quality of your emails? Your attention to detail? Your attitude in meetings? This week, pursue excellence—not to impress people, but because you're serving Christ Himself.",
    mondayPrayer: "Lord Jesus, I dedicate this week's work to You. Help me work with excellence, as if You're watching—because You are. Amen.",
    practices: [
      "Pick one task today and do it with exceptional care, 'as for the Lord.'",
      "Before hitting 'send' on an email, ask: 'Would this honor Christ?'",
      "At the end of each day, ask: 'Did I give my best today?'"
    ]
  },
  4: {
    theme: "Integrity",
    subtitle: "Truth-telling in estimates, emails, and time",
    verse: "Proverbs 11:3",
    verseText: "The integrity of the upright guides them, but the crookedness of the treacherous destroys them.",
    reflection: "Small lies compound: padding time sheets, exaggerating in reports, cutting corners no one will notice. But God sees. Integrity isn't just avoiding big scandals; it's faithfulness in the details. This week, let truth guide every estimate, email, and conversation.",
    mondayPrayer: "Father, give me courage to tell the truth, even when it costs me. Amen.",
    practices: [
      "Report your hours with complete accuracy this week.",
      "If you're tempted to exaggerate, stop and tell the plain truth.",
      "Confess one area where you've been cutting corners and commit to change."
    ]
  },
  5: {
    theme: "Service",
    subtitle: "Your vocation serves your neighbor's needs",
    verse: "Galatians 5:13",
    verseText: "For you were called to freedom, brothers. Only do not use your freedom as an opportunity for the flesh, but through love serve one another.",
    reflection: "Every job serves someone. The barista serves the tired commuter. The accountant serves business owners. The nurse serves the sick. Your work is an act of love toward your neighbor—providing what they need. This week, see your tasks as service to real people with real needs.",
    mondayPrayer: "Lord, open my eyes to see how my work serves others. Help me love my neighbor through my labor. Amen.",
    practices: [
      "Name one person your work serves today (customer, coworker, etc.).",
      "Pray for that person's well-being.",
      "Ask yourself: 'How does this task meet a real human need?'"
    ]
  },
  6: {
    theme: "Witness",
    subtitle: "Letting your light shine through your work",
    verse: "Matthew 5:16",
    verseText: "In the same way, let your light shine before others, so that they may see your good works and give glory to your Father who is in heaven.",
    reflection: "Your work is a stage for the gospel. Not because you preach at coworkers, but because your integrity, kindness, and excellence point to something greater. When people ask, 'Why do you work this way?' you get to tell them about Jesus. This week, let your work adorn the gospel.",
    mondayPrayer: "Father, let my work point others to You. May they see Christ in how I serve. Amen.",
    practices: [
      "Be kind to one difficult coworker this week.",
      "Do one task with excellence that others will notice.",
      "If someone asks why you work this way, be ready to share about Jesus (1 Pet 3:15)."
    ]
  },
  7: {
    theme: "Eternal Value",
    subtitle: "Your labor in the Lord is not in vain",
    verse: "1 Corinthians 15:58",
    verseText: "Therefore, my beloved brothers, be steadfast, immovable, always abounding in the work of the Lord, knowing that in the Lord your labor is not in vain.",
    reflection: "The spreadsheets, the lesson plans, the routes—none of it is meaningless. Work done for God's glory has eternal weight. God remembers. Your faithfulness matters forever. This week, when tasks feel mundane, remember: in the Lord, your labor is not in vain.",
    mondayPrayer: "Lord, remind me that my work matters to You and will not be forgotten. Amen.",
    practices: [
      "When a task feels pointless, say aloud: 'In the Lord, this is not in vain.'",
      "List 3 ways your work this week could have eternal significance.",
      "Thank God that He sees and values every faithful effort."
    ]
  },
  8: {
    theme: "Suffering at Work",
    subtitle: "Trusting God through workplace trials",
    verse: "1 Peter 2:19-20",
    verseText: "For this is a gracious thing, when, mindful of God, one endures sorrows while suffering unjustly... If when you do good and suffer for it you endure, this is a gracious thing in the sight of God.",
    reflection: "Difficult bosses. Unfair treatment. Unrecognized effort. Jesus understands. He suffered unjustly, entrusting Himself to the Father. This week, if work is hard, remember: enduring with grace is 'a gracious thing in the sight of God.' He sees. He cares. He will vindicate.",
    mondayPrayer: "Father, when work is hard, help me trust You. Give me grace to endure with patience and hope. Amen.",
    practices: [
      "If mistreated, pray for the person who wronged you.",
      "Entrust outcomes to God instead of seeking revenge.",
      "Remember: Jesus suffered for you, and He's with you in your suffering."
    ]
  },
  9: {
    theme: "Rest",
    subtitle: "Sabbath as trust in God's provision",
    verse: "Exodus 20:8-10",
    verseText: "Remember the Sabbath day, to keep it holy. Six days you shall labor, and do all your work, but the seventh day is a Sabbath to the LORD your God.",
    reflection: "Rest is worship. When you stop working, you're saying, 'God is in control, not me. He will provide.' Sabbath isn't laziness—it's trust. This week, practice resting one day. Trust that God can sustain the world (and your work) without you for 24 hours.",
    mondayPrayer: "Lord, teach me to rest. Help me trust that You are sovereign even when I'm not working. Amen.",
    practices: [
      "Set aside one day (or evening) to fully rest from work.",
      "Turn off work emails and Slack notifications during your Sabbath.",
      "Worship, read Scripture, spend time with loved ones—enjoy God's gift of rest."
    ]
  },
  10: {
    theme: "Creativity",
    subtitle: "Reflecting the Creator through our work",
    verse: "Exodus 31:3-5",
    verseText: "I have filled him with the Spirit of God, with ability and intelligence, with knowledge and all craftsmanship, to devise artistic designs, to work in gold, silver, and bronze...",
    reflection: "God is the ultimate Creator, and He made you in His image. Every act of creativity—whether designing software, arranging a store display, or solving a problem—reflects God's creative nature. This week, see your creative work as imaging the Creator.",
    mondayPrayer: "Creator God, thank You for the gift of creativity. Help me reflect Your beauty and order in my work. Amen.",
    practices: [
      "Approach one creative task as an act of worship.",
      "Thank God for one skill or talent He's given you.",
      "Ask: 'How can I bring beauty, order, or clarity to this project?'"
    ]
  },
  11: {
    theme: "Ambition",
    subtitle: "Godly vs. selfish ambition in your career",
    verse: "Philippians 2:3",
    verseText: "Do nothing from selfish ambition or conceit, but in humility count others more significant than yourselves.",
    reflection: "Ambition isn't bad—God calls us to work heartily. But selfish ambition destroys. Ask: Am I climbing for my glory or God's? To serve or to be served? This week, examine your ambitions. Pursue excellence, but not at the expense of love.",
    mondayPrayer: "Father, align my ambitions with Your glory, not my own. Help me serve, not just succeed. Amen.",
    practices: [
      "List your career goals. Ask: 'Are these for God's glory or my pride?'",
      "This week, help a coworker succeed—even if it doesn't benefit you.",
      "If you feel envy toward someone's success, pray for them instead."
    ]
  },
  12: {
    theme: "Calling",
    subtitle: "Every Christian has a vocation from God",
    verse: "1 Corinthians 7:17",
    verseText: "Only let each person lead the life that the Lord has assigned to him, and to which God has called him.",
    reflection: "You don't need to be a pastor to have a calling. God has placed you in your job, in this season, for His purposes. Your workplace is your mission field. This week, ask: 'How has God called me to this work, in this place, at this time?'",
    mondayPrayer: "Lord, help me see my job as a calling from You, not just a career. Amen.",
    practices: [
      "Ask: 'How might God be using me in this workplace?'",
      "Thank God for placing you where you are.",
      "Pray for one person in your workplace to come to know Jesus."
    ]
  }
};

// Get current week number (1-52)
function getWeekNumber() {
  const now = new Date();
  const start = new Date(now.getFullYear(), 0, 1);
  const diff = now - start;
  const oneWeek = 1000 * 60 * 60 * 24 * 7;
  return Math.ceil(diff / oneWeek);
}

// Load week content
function loadWeek(weekNum) {
  const week = weeklyResources[weekNum];
  if (!week) {
    document.getElementById('weeklyContent').innerHTML = `
      <div class="card">
        <h3 class="card-title">Week ${weekNum} Coming Soon</h3>
        <p class="card-content">This week's resources are being prepared. Check back soon!</p>
      </div>
    `;
    return;
  }

  document.getElementById('weeklyContent').innerHTML = `
    <div class="card" style="border-left-color: var(--navy);">
      <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
        <div>
          <h2 style="font-size: 2rem; color: var(--navy); margin-bottom: 0.5rem;">Week ${weekNum}: ${week.theme}</h2>
          <p style="font-style: italic; color: var(--olive);">${week.subtitle}</p>
        </div>
        <button onclick="printWeek(${weekNum})" class="btn btn-primary">Print Week ${weekNum}</button>
      </div>
    </div>

    <div class="card" style="background: white; margin-top: 1.5rem;">
      <h3 class="card-title">This Week's Verse</h3>
      <p style="font-size: 1.125rem; font-style: italic; color: var(--graphite); margin: 1rem 0;">"${week.verseText}"</p>
      <div class="verse-chip"><span class="verse-ref">${week.verse}</span></div>
    </div>

    <div class="card" style="background: white; margin-top: 1.5rem;">
      <h3 class="card-title">Reflection</h3>
      <p style="line-height: 1.8;">${week.reflection}</p>
    </div>

    <div class="card" style="background: white; margin-top: 1.5rem;">
      <h3 class="card-title">Monday Morning Prayer</h3>
      <p style="font-style: italic; color: var(--graphite); font-size: 1.125rem;">${week.mondayPrayer}</p>
    </div>

    <div class="card" style="background: white; margin-top: 1.5rem;">
      <h3 class="card-title">This Week's Practices</h3>
      <ul style="padding-left: 1.5rem; line-height: 2;">
        ${week.practices.map(p => `<li>${p}</li>`).join('')}
      </ul>
    </div>
  `;

  // Scroll to weekly content
  document.getElementById('weeklyContent').scrollIntoView({ behavior: 'smooth' });
}

// Print week function
function printWeek(weekNum) {
  window.print();
}

// Print resource placeholder
function printResource(type) {
  alert(`The ${type} PDF is being prepared. For now, you can print directly from the website using your browser's print function (Cmd/Ctrl + P).`);
}

// Populate week selector
function populateWeekSelector() {
  const selector = document.getElementById('weekSelector');
  const currentWeek = getWeekNumber();
  
  for (let i = 1; i <= 52; i++) {
    const option = document.createElement('option');
    option.value = i;
    option.textContent = `Week ${i} of 52`;
    if (weeklyResources[i]) {
      option.textContent += ` - ${weeklyResources[i].theme}`;
    } else {
      option.textContent += ' (Coming Soon)';
    }
    if (i === currentWeek) {
      option.selected = true;
    }
    selector.appendChild(option);
  }
  
  // Add change event listener
  selector.addEventListener('change', (e) => {
    const selectedWeek = parseInt(e.target.value);
    loadWeek(selectedWeek);
    document.getElementById('weekNumberDisplay').textContent = selectedWeek;
  });
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
  const currentWeek = getWeekNumber();
  document.getElementById('currentWeekIndicator').textContent = `Week ${currentWeek}`;
  document.getElementById('weekNumberDisplay').textContent = currentWeek;
  
  // Populate the week selector
  populateWeekSelector();
  
  // Load current week's content
  loadWeek(currentWeek);
});

